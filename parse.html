<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>PokémonHub HTML Parser</title>
  <style>
    body { font-family: Arial, sans-serif; margin: 20px; }
    textarea { width: 100%; height: 200px; margin-top: 10px; }
    pre { background: #f4f4f4; padding: 10px; border-radius: 6px; max-height: 400px; overflow: auto; }
    button { padding: 10px 20px; margin-top: 10px; }
  </style>
</head>
<body>
  <h1>PokémonHub HTML Parser</h1>
  <p>Paste the HTML source of the Pokémon GO Hub Pokédex page below and click <b>Parse</b>.</p>
  
  <textarea id="htmlInput" placeholder="Paste HTML source here..."></textarea>
  <br>
  <button onclick="parseHTML()">Parse</button>

  <h2>Result JSON:</h2>
  <pre id="output"></pre>

  <script>
    function parseHTML() {
      const html = document.getElementById("htmlInput").value;
      if (!html.trim()) {
        alert("Please paste HTML code first!");
        return;
      }

      const parser = new DOMParser();
      const doc = parser.parseFromString(html, "text/html");

      // Example: find Pokémon cards in Pokemongohub Pokedex
      let data = [];
      doc.querySelectorAll(".pokemon-card").forEach(card => {
        const name = card.querySelector(".pokemon-card-name")?.innerText.trim() || "";
        const dex = card.querySelector(".pokemon-card-num")?.innerText.replace("#", "").trim() || "";
        const types = Array.from(card.querySelectorAll(".pokemon-card-type")).map(t => t.innerText.trim());

        data.push({ dex, name, types });
      });

      const json = JSON.stringify(data, null, 2);
      document.getElementById("output").textContent = json;
      
      // Save as file
      const blob = new Blob([json], {type: "application/json"});
      const url = URL.createObjectURL(blob);
      const a = document.createElement("a");
      a.href = url;
      a.download = "pokemon.json";
      a.click();
      URL.revokeObjectURL(url);
    }
  </script>
</body>
</html>
